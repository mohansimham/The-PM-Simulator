<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 1: PM Fundamentals - Airbnb Platform Evolution</title>
    <meta name="description" content="Test your product management fundamentals with this Airbnb case study simulation.">
    
    <!-- Open Graph for LinkedIn sharing -->
    <meta property="og:title" content="Week 1: PM Fundamentals - Airbnb Simulation">
    <meta property="og:description" content="Can you navigate Airbnb's early growth decisions? Test your PM skills.">
    <meta property="og:type" content="website">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Professional formal color overrides */
        .bg-indigo-600 { background-color: #1e40af !important; } /* Navy blue */
        .bg-indigo-100 { background-color: #dbeafe !important; } /* Light blue */
        .text-indigo-600 { color: #1e40af !important; }
        .border-indigo-500 { border-color: #2563eb !important; }
        .from-indigo-600 { --tw-gradient-from: #1e40af !important; }
        .to-blue-600 { --tw-gradient-to: #3b82f6 !important; } /* Professional blue */
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        const { useState, useEffect } = React;
        const { createElement: h } = React;

        // Google Apps Script Web App URL for email collection
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz6E8UJUn5xhilm2pLWjdvaip_6MnSCf-XRVPv5u4hOttjr0SNCu9I10q2ESLKGQ04_mQ/exec';

        // Icon components as simple SVGs
        const Share2Icon = () => h('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            h('path', { d: 'M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8' }),
            h('polyline', { points: '16 6 12 2 8 6' }),
            h('line', { x1: 12, y1: 2, x2: 12, y2: 15 })
        );

        const MailIcon = () => h('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            h('path', { d: 'M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z' }),
            h('polyline', { points: '22,6 12,13 2,6' })
        );

        const TrophyIcon = () => h('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            h('path', { d: 'M6 9H4.5a2.5 2.5 0 0 1 0-5H6' }),
            h('path', { d: 'M18 9h1.5a2.5 2.5 0 0 0 0-5H18' }),
            h('path', { d: 'M4 22h16' }),
            h('path', { d: 'M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22' }),
            h('path', { d: 'M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22' }),
            h('path', { d: 'M18 2H6v7a6 6 0 0 0 12 0V2Z' })
        );

        const TrendingUpIcon = () => h('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            h('polyline', { points: '23 6 13.5 15.5 8.5 10.5 1 18' }),
            h('polyline', { points: '17 6 23 6 23 12' })
        );

        const UsersIcon = () => h('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            h('path', { d: 'M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2' }),
            h('circle', { cx: 9, cy: 7, r: 4 }),
            h('path', { d: 'M23 21v-2a4 4 0 0 0-3-3.87' }),
            h('path', { d: 'M16 3.13a4 4 0 0 1 0 7.75' })
        );

        function PMSimulation() {
            const [email, setEmail] = useState('');
            const [hasStarted, setHasStarted] = useState(false);
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState([]);
            const [selectedAnswerIndex, setSelectedAnswerIndex] = useState(null);
            const [showResults, setShowResults] = useState(false);
            const [hasAttempted, setHasAttempted] = useState(false);

            useEffect(() => {
                // Creator backdoor: Check if URL has ?reset=true parameter
                const urlParams = new URLSearchParams(window.location.search);
                const resetMode = urlParams.get('reset') === 'true';
                
                if (resetMode) {
                    // Creator mode: Clear the attempt flag and allow retaking
                    localStorage.removeItem('pm_simulation_week1_attempted');
                    setHasAttempted(false);
                } else {
                    // Normal mode: Check if already attempted
                    const attempted = localStorage.getItem('pm_simulation_week1_attempted');
                    if (attempted) {
                        setHasAttempted(true);
                    }
                }
            }, []);

            // Reset selected answer when question changes
            useEffect(() => {
                setSelectedAnswerIndex(null);
            }, [currentQuestion]);

            const simulation = {
                title: "Airbnb's Platform Evolution: PM Fundamentals",
                company: "Airbnb",
                week: "Week 1",
                year: "2026",
                description: "You're a PM at early-stage Airbnb. The company started by renting air mattresses during a design conference. Now you need to scale to a global platform. Make critical decisions that will define what product management means at Airbnb.",
                questions: [
                    {
                        id: 1,
                        scenario: "San Francisco, October 2008. You're sitting in a cramped apartment with Brian Chesky and Joe Gebbia. They just launched 'Air Bed & Breakfast' - people can rent air mattresses in strangers' homes during conferences. It's quirky. It's weird. And it's barely working. You have $20,000 left in the bank. Brian looks at you: 'We need to decide - do we stick with the air mattress thing, or pivot?'",
                        question: "What's your call?",
                        options: [
                            {
                                text: "Pivot to full apartments and rooms. Nobody wants to sleep on an air mattress long-term. The real opportunity is spare bedrooms and entire homes.",
                                points: 45,
                                feedback: "EXACTLY RIGHT. This is the pivot that made Airbnb worth $100B. You saw past the surface-level product to the underlying job-to-be-done: affordable, authentic accommodations. Air mattresses were a feature, not the vision. Great PMs see the forest, not just the trees. This shows strategic thinking - you're solving for the market need, not falling in love with your first solution."
                            },
                            {
                                text: "Double down on air mattresses. We're 'Air Bed & Breakfast' - it's in our name! Let's improve the air mattress experience - better pumps, premium mattresses, breakfast partnerships.",
                                points: 10,
                                feedback: "You just killed a unicorn. Kodak did this - they invented the digital camera but stuck with film because 'we're Kodak, we do film.' The market doesn't care about your original idea; it cares about solving real problems. Air mattresses were a constraint of early adopters (broke conference-goers), not the product vision. This is feature-focused thinking, not strategic PM work."
                            },
                            {
                                text: "Run an A/B test. List 50% air mattresses, 50% rooms. Let data decide after 3 months.",
                                points: 25,
                                feedback: "Data-driven, but dangerously slow. In October 2008, you have $20K left. In 3 months, you'll be bankrupt. A/B testing is great for optimization, not existential pivots. When your startup is on life support, you need conviction and speed, not statistical significance. This shows PM rigor but poor judgment about when to use which tool."
                            },
                            {
                                text: "Expand to new cities first, then worry about the product. Growth solves everything.",
                                points: 5,
                                feedback: "Classic 'pour water into a leaky bucket' mistake. You haven't proven product-market fit yet. Scaling a broken product just burns money faster. Uber, Facebook, Airbnb - they all nailed one city first, THEN scaled. This answer shows you don't understand the difference between growth stage and validation stage. Dangerous for any PM."
                            }
                        ]
                    },
                    {
                        id: 2,
                        scenario: "Early 2009. You've pivoted to rooms and apartments. But there's a problem: listings look terrible. Blurry phone photos of unmade beds, cluttered rooms, bad lighting. Conversion rates are abysmal - only 1 in 50 viewers book. Paul Graham from Y Combinator gives you harsh advice: 'Go to New York. Photograph the apartments yourself. Do things that don't scale.' Your engineering team is frustrated: 'We're a tech company, not photographers!' Your burn rate gives you 3 months.",
                        question: "It's Friday. The team wants a decision by Monday. What do you do?",
                        options: [
                            {
                                text: "Build an automated photo quality filter. Use AI to reject blurry photos and send hosts tips for better photography. Scale this solution globally.",
                                points: 15,
                                feedback: "Too clever by half. It's 2009 - consumer AI photo recognition barely exists. And even if it did, you're solving the wrong problem. Hosts don't know how to take professional photos; a filter won't teach them. You're building a technical solution to a service problem. This is a very common PM trap - defaulting to 'build something' when the answer might be 'do something manual.'"
                            },
                            {
                                text: "Book a flight to New York tonight. Spend the weekend photographing 20 apartments personally. Measure the conversion rate difference. If it works, we'll build a photographer program in every city.",
                                points: 45,
                                feedback: "BRILLIANT. This is exactly what Airbnb did - and it changed everything. Those photographed listings got 2-3x more bookings. You did something that didn't scale to prove what would scale. This shows elite PM judgment: you're willing to get your hands dirty, you're focused on the right metric (conversion rate), and you have a plan to scale (photographer program). Paul Graham still tells this story as the definitive example of founder/PM hustle."
                            },
                            {
                                text: "Hire a professional photographer in every major city. Launch 'Airbnb Pro Photography' as a premium service for hosts.",
                                points: 30,
                                feedback: "You're on the right track - professional photos are the answer. But you're skipping the validation step and burning precious cash. What if professional photos DON'T improve conversion? What if hosts don't use the service? You're scaling before proving. The PM principle here: validate small, scale big. Your instinct is good, but your execution is premature."
                            },
                            {
                                text: "Send an email to all hosts with photography tips and best practices. Include examples of great listings. This is a communication problem, not a product problem.",
                                points: 20,
                                feedback: "Low-effort solution, but it won't move the needle. Hosts know their photos are bad - they don't know HOW to make them better or don't have the time/skills. Sending tips is like telling someone to 'just learn design' - it's not actionable. You're underestimating the problem. Great PMs know when education is enough and when you need to do it FOR the user."
                            }
                        ]
                    },
                    {
                        id: 3,
                        scenario: "Summer 2009. Traction is building, but you're bleeding money on customer support. Every booking has 10+ emails - payment disputes, check-in confusion, host questions, guest complaints. Your two support people are drowning. Brian wants to hire 5 more support staff ($250K/year). Your engineering lead says 'Let me build automation - chatbots, FAQ bots, auto-responses.' Your only designer wants to redesign the booking flow to reduce confusion. You can only fund ONE of these for the next 6 months.",
                        question: "The board meeting is in 2 hours. What's your recommendation?",
                        options: [
                            {
                                text: "Hire the support staff. We're a marketplace - trust is everything. Human touch matters. Automation can wait until we're bigger.",
                                points: 30,
                                feedback: "You're right that trust matters, but you're missing the opportunity to SCALE trust. Zappos and Chewy won on support too, but they also used systems to handle routine stuff while humans handled the complex. Hiring 5 people gives you 7 total support people; fixing the product once could eliminate 50% of tickets forever. Think in terms of leverage - what investment has the biggest multiplier effect?"
                            },
                            {
                                text: "Build the automation. Engineers are expensive, but they're one-time cost. Support staff is ongoing cost that grows with users.",
                                points: 20,
                                feedback: "Financially logical, but strategically risky. Chatbots in 2009 are terrible - you'll frustrate users during your critical growth phase. Plus, you're optimizing for cost when you should be optimizing for trust and conversion. Early-stage startups should focus on delighting users, not saving money. Also, your engineer is guessing what to automate - you need data on what's actually broken."
                            },
                            {
                                text: "Fund the redesign. If the booking flow is confusing, fix the root cause. Fewer confused users = fewer support tickets. Then hire support staff if needed.",
                                points: 45,
                                feedback: "EXACTLY. This is strategic PM thinking - solve the problem upstream, not downstream. Airbnb did redesign their flow, adding clearer check-in instructions, payment transparency, and host-guest messaging. Support tickets dropped by 40%. You're thinking in systems: bad UX creates support load, so fix UX. This is the difference between a PM and a project manager - you're solving the real problem, not just resourcing the symptom."
                            },
                            {
                                text: "Split the budget: hire 2 support staff, give engineering 2 months to build FAQ automation, give design 1 month to improve booking flow.",
                                points: 15,
                                feedback: "The classic 'make everyone happy' compromise. Sounds reasonable, fails miserably. You've now funded 3 half-baked solutions instead of 1 great one. Your 2 support people are still overwhelmed, your engineer can't build good automation in 2 months, and your designer can't meaningfully improve the flow in 1 month. Great PMs make hard choices. Splitting resources is almost always wrong in startups."
                            }
                        ]
                    },
                    {
                        id: 4,
                        scenario: "December 2009. You're in New York during the holidays. Something magical is happening: bookings are surging because hotels are sold out and expensive. Your platform works! But you notice something disturbing in the support queue - a pattern of cancellations. Hosts are accepting bookings, then canceling last-minute when they get better offers (longer stays, higher prices). Guests are stranded. This is a catastrophic trust violation, but hosts are your supply - you can't afford to lose them. One angry guest just tweeted: '@airbnb left me homeless in NYC on Christmas Eve.' It's getting retweeted.",
                        question: "The founders are panicking. This could kill the company. Your move?",
                        options: [
                            {
                                text: "Immediately implement a strict cancellation penalty: hosts who cancel pay a $500 fine + guest rebooking costs. Post this publicly to show we're serious about trust.",
                                points: 25,
                                feedback: "You're prioritizing guests over hosts - understandable but dangerous. Penalties alone will make hosts angry without solving the root cause (better price discovery). Some hosts will leave your platform entirely. You needed to do something, but going straight to punishment without understanding why hosts are canceling is reactive. Good PMs investigate before legislating."
                            },
                            {
                                text: "Build a 'host commitment' system: hosts can't cancel without major cause (emergency, safety issue). If they do, they're suspended for 30 days. But also fix the pricing tools so hosts can price correctly upfront.",
                                points: 45,
                                feedback: "BRILLIANT. This is the Airbnb playbook - carrots AND sticks. You're addressing the symptom (cancellations) with penalties, but also the root cause (bad pricing) with better tools. This is systems thinking: hosts are canceling because they mispriced, so give them dynamic pricing suggestions. Plus, 30-day suspension is harsh but fair. This answer shows you understand marketplace dynamics - you need both sides to win."
                            },
                            {
                                text: "Do nothing. Cancellations are a small percentage of bookings. Don't over-react to one tweet. Focus on growth - more bookings will drown out the noise.",
                                points: 5,
                                feedback: "You just learned nothing from United Airlines' dragging incident. One viral tweet can destroy your brand, especially for a trust-based marketplace. 'Small percentage' doesn't matter if it's an existential issue to the affected users. Great PMs know when to ignore metrics and when to obsess over edge cases. Trust is fragile - lose it once, and users never come back."
                            },
                            {
                                text: "Personally call the guest who tweeted, find them a new place to stay, give them $500 credit, and document it publicly. Then work on long-term policy.",
                                points: 35,
                                feedback: "Great customer service, but you're putting out fires, not preventing them. Airbnb DID do this for early incidents - Brian Chesky was famous for calling stranded guests at 2am. But it's not scalable. You've handled one crisis; you haven't built the system that prevents the next 100 crises. This shows you care, but it doesn't show you're thinking like a PM - it shows you're thinking like a support manager."
                            }
                        ]
                    },
                    {
                        id: 5,
                        scenario: "Spring 2010. You've got momentum. 10,000 listings. $1M in bookings per month. But your engineering team is overwhelmed - they're firefighting bugs, scaling issues, and maintenance. No time for new features. Meanwhile, your competitors (VRBO, HomeAway) are launching new stuff weekly. Your CTO pulls you aside: 'We need to hire. I need 10 more engineers. But recruiting takes 6 months. What should I do - hire fast (lower bar) or hire slow (high bar but we fall behind)?'",
                        question: "What do you tell her?",
                        options: [
                            {
                                text: "Hire fast. We need bodies to build features and compete. We can always replace low performers later. Speed matters more than perfect team composition right now.",
                                points: 10,
                                feedback: "This is how startups die a slow death. Bad hires don't just underperform - they create bugs, drag down the team, and take 6 months to fire (because you'll agonize over it). Airbnb, Stripe, Google - elite companies are religious about bar-raising. One great engineer is worth 10 mediocre ones. You're thinking tactically (fill seats) instead of strategically (build a championship team)."
                            },
                            {
                                text: "Hire slow. Maintain high bar. In the meantime, ruthlessly prioritize - cut 80% of the roadmap. Ship only what matters for retention and booking conversion.",
                                points: 45,
                                feedback: "CORRECT. This is what Airbnb did. Brian Chesky interviewed hundreds of candidates before making early hires. And they cut features ruthlessly - no social features, no fancy search, just: can you find a place, book it, and have a good experience? This is elite PM discipline: quality over quantity in hiring AND shipping. You're protecting culture and focus - the two things that die first in hyper-growth."
                            },
                            {
                                text: "Outsource to a development agency in India. Get 10 contractors for the price of 3 engineers. Use them for non-critical features and maintenance.",
                                points: 15,
                                feedback: "You've just created a two-tier engineering culture that will poison your team. Your best engineers will resent the contractors, contractors will build buggy code (because they don't own it), and you'll spend more time managing the contractors than if you'd just hired properly. Outsourcing works for mature companies with clear specs; for startups, it's usually a disaster. This shows you don't understand team dynamics."
                            },
                            {
                                text: "Hire 5 great engineers (high bar, slower) and 5 good-enough contractors (fast). Best of both worlds.",
                                points: 20,
                                feedback: "A compromise, but you're still diluting culture. The 5 great engineers will see the 5 contractors as second-class citizens, or worse, will spend time fixing their bugs. You've created a talent hierarchy. Airbnb and Stripe succeed because EVERY engineer is world-class and treated equally. Your job as PM is to protect the quality bar, not to optimize for short-term velocity."
                            }
                        ]
                    },
                    {
                        id: 6,
                        scenario: "June 2010. A host in Oakland reports that a guest trashed their home - broken furniture, stolen electronics, graffiti on walls. Damages: $25,000. The guest disputes it: 'The place was already a mess. The host is scamming.' You have no photos, no proof, just he-said-she-said. The host is threatening to sue Airbnb and go to the media. This is your first major trust & safety incident - how you handle it will set precedent for thousands of future disputes. The host is screaming on the phone: 'You put criminals in my home!'",
                        question: "You have to decide in the next hour. What do you do?",
                        options: [
                            {
                                text: "Side with the host. Refund them $25K, ban the guest. We can't lose hosts - they're our supply. Guests are easier to replace.",
                                points: 15,
                                feedback: "Supply-focused thinking, but terrible precedent. What if the host is lying? What's stopping every host from claiming fake damages to get free money? You've just created a moral hazard. Uber learned this - if drivers could ban riders with no evidence, it's chaos. Marketplaces must be neutral arbiters. This answer shows you're thinking tactically (save the host) instead of strategically (build a fair system)."
                            },
                            {
                                text: "Create an evidence-based investigation process: require photos before check-in, photos after, messages between host/guest. Build a 'Resolution Center' where disputes are mediated with evidence. Start a $1M Host Guarantee fund for proven damages.",
                                points: 45,
                                feedback: "EXACTLY what Airbnb did. They built the Host Guarantee (now up to $3M), created the Resolution Center, and mandated photo documentation. This is strategic PM thinking: you're not solving one dispute, you're building infrastructure that scales to millions of disputes. You're also sending a clear signal - Airbnb backs hosts but requires proof. This is the difference between firefighting and building systems."
                            },
                            {
                                text: "Offer both sides $5K to go away. Sign NDAs. Move on quietly. We can't afford bad press right now.",
                                points: 5,
                                feedback: "This is how scandals metastasize. Uber tried to bury problems with money and NDAs - it destroyed them. Your NDA will leak (it always does), and now you look like you're covering up. Plus, you haven't solved the problem - the next damaged property is coming tomorrow. This is cowardly PM work - you're managing PR instead of building product."
                            },
                            {
                                text: "Escalate to Brian and Joe. This is a founder-level decision about company values and legal liability. I'll implement whatever they decide.",
                                points: 10,
                                feedback: "You're abdicating responsibility. This is EXACTLY the type of decision PMs are hired to make. Founders can't resolve every dispute - you need to build systems they can trust. If you escalate every hard call, you're not a PM, you're a project coordinator. Own the decision, build the framework, get founder buy-in on the framework. That's the job."
                            }
                        ]
                    },
                    {
                        id: 7,
                        scenario: "August 2010. You're analyzing booking data and discover something surprising: 60% of bookings are in just 3 cities (NYC, SF, LA). The other 40% is spread across 200+ cities with only 1-5 listings each. Your growth team wants to expand to 50 new cities. Your operations team wants to double down on the big 3 cities. Your finance team says you're burning $200K/month and need profitability in 12 months. Each new city costs $50K to launch (marketing, photographers, local team). The board wants a decision: focus or expand?",
                        question: "It's Monday morning. You're presenting to the board in 3 hours. What's your strategy?",
                        options: [
                            {
                                text: "Expand to 50 new cities. We're a network effects business - more cities = more value. Spend $2.5M to launch everywhere. Profitability can wait.",
                                points: 10,
                                feedback: "You just bet the company on unproven markets. Network effects require density IN each market, not breadth across markets. Uber learned this - they owned San Francisco THEN expanded, not the other way around. $2.5M is your entire runway. If those 50 cities don't work, you're bankrupt. This is reckless growth-hacking, not strategic PM work."
                            },
                            {
                                text: "Double down on NYC, SF, LA. Launch pro photography, local customer support, and host meetups in each city. Own the top markets completely before expanding.",
                                points: 45,
                                feedback: "BRILLIANT. This is the Airbnb strategy. They saturated top markets first - 80% of hosts in NYC had professional photos by end of 2010. This created density, liquidity, and word-of-mouth. When they DID expand, they had a playbook that worked. You're thinking like Bezos: 'Your margin is my opportunity' - own the profitable segments before chasing growth. This is strategic patience."
                            },
                            {
                                text: "Hybrid approach: go deep in the big 3 cities, but also launch in 10 'next tier' cities (Austin, Seattle, Boston, etc.) to test expansion playbook.",
                                points: 30,
                                feedback: "Not terrible, but you're spreading resources thin. Your $500K investment ($50K × 10 cities) would be better spent absolutely dominating NYC. You're trying to de-risk expansion, but you're actually just delaying the focus decision. Great PMs pick a strategy and execute it fully. Half-measures rarely work in startups."
                            },
                            {
                                text: "Pause all expansion. Cut burn rate to $100K/month. Focus on profitability in existing markets. Survive first, grow second.",
                                points: 25,
                                feedback: "You're optimizing for survival, not winning. Yes, runway matters. But Airbnb had investors ready to fund them IF they showed momentum. By pausing growth, you're signaling fear. Your competitors will eat your lunch. Sometimes the riskiest move is playing it safe. You needed to balance growth and efficiency, not choose one."
                            }
                        ]
                    },
                    {
                        id: 8,
                        scenario: "October 2010. Your search algorithm is broken. It ranks listings by 'most recent' - so new listings appear first, even if they're terrible (1-star reviews, bad photos, high prices). Result: new users book bad listings, have bad experiences, and never come back. Your data scientist says: 'Give me 3 months to build a machine learning ranking algorithm - reviews, price, photos, location, etc.' Your engineer says: 'I can ship a simple ranking by price+reviews in 2 weeks, no ML needed.' Your designer says: 'Just let users filter and sort however they want.' Retention is 25%. You need 60% to hit your next funding milestone.",
                        question: "You're on a plane to a board meeting. WiFi is out. You need to decide now. What's your call?",
                        options: [
                            {
                                text: "Build the ML algorithm. It's the right long-term solution. 3 months is worth it for a world-class ranking system.",
                                points: 15,
                                feedback: "You're over-engineering. ML in 2010 requires tons of data you probably don't have yet. And in 3 months, your retention is still broken, users are still churning, and you might miss your funding milestone. This is the PM trap of 'perfect solution' over 'good enough now.' Google search didn't start with ML - they started with PageRank (simple algorithm), THEN added ML years later."
                            },
                            {
                                text: "Ship the simple ranking (price + reviews) in 2 weeks. Measure retention. If it works, great. If not, then build ML. Always ship fast and iterate.",
                                points: 45,
                                feedback: "CORRECT. This is elite PM judgment - solve 80% of the problem with 20% of the effort. Airbnb did exactly this - simple heuristic ranking first, ML later. Your retention will improve immediately (bad listings drop in ranking), and you'll learn what users actually value. Then you can build smart ML. This is the 'crawl, walk, run' philosophy that wins."
                            },
                            {
                                text: "Let users filter/sort however they want. Give them control. This empowers users and requires minimal engineering.",
                                points: 20,
                                feedback: "Users don't know what they want. Amazon, Netflix, Spotify - they win on curation, not control. If you make users do the work (filter by 20 criteria), they'll bounce. This is the 'paradox of choice' - too many options paralyze users. Your job as PM is to do the thinking FOR the user. Filters are great for power users, terrible for first-time users. And you need first-time users to survive."
                            },
                            {
                                text: "Focus on getting better listings instead of better ranking. Fix supply quality, not demand-side ranking.",
                                points: 10,
                                feedback: "You're solving the wrong problem. Yes, better listings matter. But you already have good listings - they're just buried under bad ones. Fixing supply is a 6-month project (recruit hosts, train them, photo them). Fixing ranking is a 2-week project. When your house is on fire, you grab the extinguisher, not remodel the kitchen."
                            }
                        ]
                    },
                    {
                        id: 9,
                        scenario: "January 2011. Your payment system is hemorrhaging money. Hosts are complaining about delayed payouts (currently 3-5 days after guest check-out). Guests are annoyed by holds on their credit cards. Your payment processor charges 3.5% + $0.30 per transaction. On a $1,000 booking, you're paying $35.30 in fees. At $5M bookings/month, that's $176K/month in payment fees. Your CFO says: 'Build our own payment system. Stripe doesn't exist yet. We'll save millions.' Your CTO says: 'That's insane - payments are hard, fraud-prone, and regulated. It'll take 18 months and might fail.' Your growth PM says: 'Who cares about fees? Faster payouts will get us more hosts. Focus on that.'",
                        question: "The leadership team is split. You're the tiebreaker. What do you recommend?",
                        options: [
                            {
                                text: "Build our own payment system. $2M/year in savings is worth it. Hire a payments expert, get the licenses, build it right.",
                                points: 10,
                                feedback: "This is the 'not invented here' trap that kills startups. PayPal spent YEARS getting payments right. You'll spend 18 months building, hit regulatory roadblocks, deal with fraud you didn't anticipate, and distract your best engineers from core product. Airbnb did NOT build their own payments - they used existing processors until Stripe existed, THEN switched. This is strategic recklessness."
                            },
                            {
                                text: "Negotiate with the payment processor for better rates (target 2.5%) and faster payouts. Use our booking volume as leverage. Solve the problem commercially, not technically.",
                                points: 45,
                                feedback: "BRILLIANT. This is the PM skill no one teaches - sometimes the best product solution is a business solution. Airbnb negotiated better rates with their processors by showing volume and growth. They got to 2.5% and 24-hour payouts without building anything. You're thinking like Bezos - 'your margin is my opportunity.' Save the engineering time for differentiation, not commoditized infrastructure."
                            },
                            {
                                text: "Keep current processor but build 'instant payout' feature - hosts can get paid in 24 hours for a 2% fee (vs 3-5 days for free). Let hosts choose speed vs cost.",
                                points: 35,
                                feedback: "Good product thinking - give users options and let them optimize. Uber did this with instant pay for drivers. But you're adding complexity (two payout flows) and still paying high processor fees. This solves the host pain (slow payouts) but not the company pain (fees). It's a decent option, but there's a better one that solves both."
                            },
                            {
                                text: "Ignore payment fees for now. Focus on growth. If we 10x bookings, we can negotiate better rates later from a position of strength.",
                                points: 25,
                                feedback: "You're right that scale brings leverage, but wrong to ignore the pain. Slow payouts ARE a growth problem - hosts churn because of it. You can both negotiate better rates AND improve payout speed NOW. Great PMs don't defer solvable problems - they bundle solutions. This answer shows good instincts but incomplete thinking."
                            }
                        ]
                    },
                    {
                        id: 10,
                        scenario: "March 2011. You've got product-market fit. Bookings are growing 20% month-over-month. But you're drowning in feature requests. Hosts want: calendar sync with other platforms, multi-listing management, dynamic pricing tools, tax reporting, insurance verification. Guests want: wishlists, trip planning, group bookings, travel guides, social features. Your CEO says: 'Build everything. We need to move fast.' Your designer says: 'We can't - the product will become bloated and confusing.' You have 8 engineers. If you build everything, each feature will be mediocre. If you focus, some stakeholders will be angry.",
                        question: "It's Sunday night. Tomorrow you're presenting the Q2 roadmap to the entire company. What's your prioritization framework?",
                        options: [
                            {
                                text: "Build everything, but in phases. Q2: multi-listing management + wishlists. Q3: calendar sync + trip planning. Q4: pricing + tax tools. Keep everyone happy.",
                                points: 20,
                                feedback: "You're trying to please everyone and will delight no one. 8 features across 9 months means each gets 1 month of work - barely enough to ship, let alone polish. Airbnb succeeded by shipping FEWER features but making them magical. Multi-listing management took them 6 months to get right. Your roadmap is a mile wide, inch deep. This is weak PM prioritization."
                            },
                            {
                                text: "Focus on power users: multi-listing management for hosts (20% of hosts drive 80% of bookings). Ignore casual hosts and most guest features. Own the power user segment completely.",
                                points: 35,
                                feedback: "Strong prioritization - you're focusing on the 20% that drives 80% of value. Airbnb DID build for power users first. But you're missing the growth opportunity - wishlists for guests actually drives more bookings (viral sharing, planning ahead). This is good business thinking but incomplete product thinking. You optimized for retention, not growth."
                            },
                            {
                                text: "Run an internal scoring exercise: every feature rated on (Impact × Confidence) / Effort. Build top 3 scorers only. Kill the rest ruthlessly. Communicate the framework transparently.",
                                points: 45,
                                feedback: "EXACTLY. This is ICE scoring (Impact, Confidence, Effort) - the framework top PMs use. You've made prioritization data-driven, transparent, and defensible. More importantly, you've built a repeatable process for future roadmaps. And by killing features explicitly, you're managing stakeholder expectations. This is strategic PM leadership - you're not just planning Q2, you're teaching the company how to prioritize."
                            },
                            {
                                text: "Ask users what they want most via survey. Build the top 3 requested features. Let the market decide.",
                                points: 15,
                                feedback: "Users are terrible at knowing what they want. Henry Ford: 'If I asked people what they wanted, they'd say faster horses.' Users will request incremental improvements, not transformational features. Airbnb's best features (professional photography, Superhost, Experiences) were NOT top survey requests. This answer abdicates your PM judgment to the crowd. Your job is to synthesize user needs, not run popularity contests."
                            }
                        ]
                    }
                ]
            };

            const sendToGoogleSheets = async (data) => {
                try {
                    await fetch(GOOGLE_SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                } catch (error) {
                    console.log('Email logging error:', error);
                }
            };

            const handleEmailSubmit = (e) => {
                e.preventDefault();
                if (email && email.includes('@')) {
                    sendToGoogleSheets({ email, simulation: 'Week 1 - PM Fundamentals', status: 'started' });
                    setHasStarted(true);
                }
            };

            const handleAnswer = (optionIndex) => {
                console.log('Answer clicked:', optionIndex); // Debug
                setSelectedAnswerIndex(optionIndex);
            };

            const handleNextChallenge = () => {
                if (selectedAnswerIndex === null) return;
                
                const currentQ = simulation.questions[currentQuestion];
                const selectedOption = currentQ.options[selectedAnswerIndex];
                
                const newAnswers = [...answers, { question: currentQuestion, points: selectedOption.points, feedback: selectedOption.feedback }];
                setAnswers(newAnswers);

                if (currentQuestion < simulation.questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    // selectedAnswerIndex will be reset by useEffect
                } else {
                    const totalPoints = newAnswers.reduce((sum, answer) => sum + answer.points, 0);
                    const maxPoints = simulation.questions.reduce((sum, q) => sum + Math.max(...q.options.map(o => o.points)), 0);
                    const percentage = Math.round((totalPoints / maxPoints) * 100);
                    
                    let tier = '';
                    if (percentage >= 90) tier = 'Strategic Mastery';
                    else if (percentage >= 75) tier = 'Applied Proficiency';
                    else if (percentage >= 60) tier = 'Core Competency';
                    else tier = 'Foundational Understanding';
                    
                    sendToGoogleSheets({ 
                        email, 
                        simulation: 'Week 1 - PM Fundamentals',
                        score: totalPoints,
                        percentage,
                        tier
                    });
                    
                    setShowResults(true);
                    localStorage.setItem('pm_simulation_week1_attempted', 'true');
                }
            };

            const calculateScore = () => {
                const totalPoints = answers.reduce((sum, answer) => sum + answer.points, 0);
                const maxPoints = simulation.questions.reduce((sum, q) => sum + Math.max(...q.options.map(o => o.points)), 0);
                return { totalPoints, maxPoints, percentage: Math.round((totalPoints / maxPoints) * 100) };
            };

            const getNarrative = (percentage) => {
                if (percentage >= 90) {
                    return {
                        title: "Strategic Mastery",
                        text: "Outstanding! You demonstrated exceptional understanding of PM fundamentals. Your answers show you grasp the strategic nature of product management - balancing user needs, business goals, and team dynamics. You understand that PMs are decision-makers who use frameworks, data, and judgment to drive outcomes. You're thinking like a seasoned PM who knows when to lead, when to listen, and when to dig deeper. This level of product intuition typically takes years to develop.",
                        tier: "Strategic Mastery"
                    };
                } else if (percentage >= 75) {
                    return {
                        title: "Applied Proficiency",
                        text: "Strong performance! You showed solid grasp of PM core competencies. You understand the PM role is about making tough trade-off decisions with incomplete information. Your answers reflect good judgment on prioritization, stakeholder management, and user-centric thinking. A few decisions leaned too heavily on one dimension (execution vs strategy, or data vs intuition). The best PMs balance all aspects. Keep practicing framework-driven decision making and study real PM case studies to sharpen your instincts.",
                        tier: "Applied Proficiency"
                    };
                } else if (percentage >= 60) {
                    return {
                        title: "Core Competency",
                        text: "You're building a solid foundation in product management. You understand some key concepts - PMs make decisions, use data, balance stakeholders - but missed opportunities to apply structured thinking. Several answers confused PM with Project Manager or Product Owner roles, or showed tactical thinking where strategic thinking was needed. Focus on learning frameworks like RICE prioritization, Jobs-to-be-Done, and the distinction between outputs (features) and outcomes (user value). Read 'Inspired' by Marty Cagan and study how top PMs think.",
                        tier: "Core Competency"
                    };
                } else {
                    return {
                        title: "Foundational Understanding",
                        text: "You're at the beginning of your PM journey. Several answers suggest you're still learning what product management fundamentally is - it's not project management, not product ownership, and not just shipping features. PMs are strategic decision-makers who discover what users need, prioritize ruthlessly, and drive business outcomes. Start with fundamentals: Read 'Inspired' by Marty Cagan, study the product lifecycle, and learn prioritization frameworks. Watch PM interviews and case study breakdowns. The good news: These are all learnable skills. Keep studying and practicing!",
                        tier: "Foundational Understanding"
                    };
                }
            };

            const shareToLinkedIn = () => {
                const score = calculateScore();
                const narrative = getNarrative(score.percentage);
                
                // Track share event in Google Sheets
                sendToGoogleSheets({ 
                    email, 
                    simulation: 'Week 1 - PM Fundamentals',
                    score: score.totalPoints,
                    percentage: score.percentage,
                    tier: narrative.tier,
                    action: 'SHARED_ON_LINKEDIN'
                });
                
                // Create shareable text with simulation URL
                const simulationUrl = window.location.href.split('?')[0];
                
                const shareText = `🎯 I just completed PM Simulation 1/20!

My Result: ${score.percentage}% - ${narrative.tier}

Challenge: "${simulation.title}"

What I was tested on:
• PM vs Project Manager role clarity
• Stakeholder management & prioritization
• Data-driven decision making
• Defining product success metrics

This simulation tests real-world PM thinking through Airbnb's early-stage growth decisions.

Think you can beat my score?
Take the free simulation: ${simulationUrl}

#ProductManagement #PMSkills #CareerGrowth #Leadership
#ProductStrategy #TechCareers

👉 Follow for 20 PM simulations: linkedin.com/in/mohansimham`;

                // Show modal with instructions
                const modal = document.createElement('div');
                modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 9999; padding: 20px;';
                
                const card = document.createElement('div');
                card.style.cssText = 'background: white; border-radius: 16px; padding: 32px; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto;';
                
                const previewText = shareText.replace(/</g, '&lt;').replace(/>/g, '&gt;');
                
                card.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;">🎉</div>
                        <h2 style="font-size: 24px; font-weight: bold; margin-bottom: 16px; color: #1f2937;">Ready to Share Your Achievement!</h2>
                        <p style="color: #6b7280; margin-bottom: 24px; line-height: 1.6;">Share your PM assessment results on LinkedIn in 3 easy steps:</p>
                        <ol style="text-align: left; color: #6b7280; margin-bottom: 24px; line-height: 1.8; padding-left: 24px;">
                            <li><strong>Click</strong> the button below (copies text + opens LinkedIn)</li>
                            <li><strong>Click "Start a post"</strong> on LinkedIn</li>
                            <li><strong>Paste</strong> (Ctrl+V or Cmd+V) and click Post! 🚀</li>
                        </ol>
                        <div style="background: #f3f4f6; padding: 16px; border-radius: 8px; margin-bottom: 24px; text-align: left; max-height: 250px; overflow-y: auto; font-size: 13px; line-height: 1.6; white-space: pre-wrap; color: #374151; font-family: monospace;">${previewText}</div>
                        <button id="copyShareBtn" style="width: 100%; background: #0A66C2; color: white; padding: 16px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin-bottom: 12px; transition: all 0.3s;">
                            📋 Copy & Open LinkedIn
                        </button>
                        <button id="cancelBtn" style="width: 100%; background: #e5e7eb; color: #374151; padding: 12px; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                `;
                
                modal.appendChild(card);
                document.body.appendChild(modal);
                
                // Add event listeners
                const copyBtn = document.getElementById('copyShareBtn');
                const cancelBtn = document.getElementById('cancelBtn');
                
                copyBtn.addEventListener('click', () => {
                    navigator.clipboard.writeText(shareText).then(() => {
                        window.open('https://www.linkedin.com/feed/', '_blank');
                        copyBtn.innerHTML = '✅ Copied! LinkedIn Opening...';
                        copyBtn.style.background = '#10b981';
                        setTimeout(() => {
                            if (modal.parentElement) {
                                document.body.removeChild(modal);
                            }
                        }, 2000);
                    }).catch(() => {
                        alert('Please copy manually:\n\n' + shareText);
                        window.open('https://www.linkedin.com/feed/', '_blank');
                    });
                });
                
                cancelBtn.addEventListener('click', () => {
                    if (modal.parentElement) {
                        document.body.removeChild(modal);
                    }
                });
                
                // Close on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        document.body.removeChild(modal);
                    }
                });
            };

            const downloadBadge = () => {
                const score = calculateScore();
                const narrative = getNarrative(score.percentage);
                
                // Track badge download event in Google Sheets
                sendToGoogleSheets({ 
                    email, 
                    simulation: 'Week 1 - PM Fundamentals',
                    score: score.totalPoints,
                    percentage: score.percentage,
                    tier: narrative.tier,
                    action: 'DOWNLOADED_BADGE'
                });
                
                // Create professional achievement badge
                const canvas = document.createElement('canvas');
                canvas.width = 1200;
                canvas.height = 675;
                const ctx = canvas.getContext('2d');
                
                // Background - Clean white with professional gradient accent
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Left accent bar - Navy blue gradient
                const leftGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                leftGradient.addColorStop(0, '#1e40af');
                leftGradient.addColorStop(1, '#3b82f6');
                ctx.fillStyle = leftGradient;
                ctx.fillRect(0, 0, 20, canvas.height);
                
                // Top header section - Light blue background
                ctx.fillStyle = '#eff6ff';
                ctx.fillRect(20, 0, canvas.width - 20, 120);
                
                // Logo/Brand area top left
                ctx.fillStyle = '#1e40af';
                ctx.font = 'bold 24px Arial, sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText('PRODUCT MANAGEMENT', 60, 50);
                ctx.fillStyle = '#3b82f6';
                ctx.font = '18px Arial, sans-serif';
                ctx.fillText('Professional Assessment Certificate', 60, 80);
                
                // Badge indicator top right
                ctx.fillStyle = '#1e40af';
                ctx.fillRect(950, 30, 200, 50);
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 16px Arial, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('SIMULATION 1/20', 1050, 60);
                
                // Main content area
                ctx.textAlign = 'center';
                
                // Achievement title
                ctx.fillStyle = '#1f2937';
                ctx.font = 'bold 48px Arial, sans-serif';
                ctx.fillText('ACHIEVEMENT CERTIFICATE', 600, 200);
                
                // Divider line
                ctx.strokeStyle = '#e5e7eb';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(300, 230);
                ctx.lineTo(900, 230);
                ctx.stroke();
                
                // Score section - Large and prominent
                ctx.fillStyle = '#1e40af';
                ctx.font = 'bold 96px Arial, sans-serif';
                ctx.fillText(score.percentage + '%', 600, 340);
                
                // Tier badge
                const tierWidth = ctx.measureText(narrative.tier.toUpperCase()).width + 60;
                ctx.fillStyle = '#dbeafe';
                ctx.fillRect((canvas.width - tierWidth) / 2, 360, tierWidth, 50);
                ctx.fillStyle = '#1e40af';
                ctx.font = 'bold 28px Arial, sans-serif';
                ctx.fillText(narrative.tier.toUpperCase(), 600, 395);
                
                // Challenge name
                ctx.fillStyle = '#6b7280';
                ctx.font = '24px Arial, sans-serif';
                ctx.fillText('Airbnb Platform Evolution', 600, 450);
                ctx.font = '20px Arial, sans-serif';
                ctx.fillText('PM Fundamentals • Strategic Decision Making', 600, 480);
                
                // Bottom section - Curator and branding
                ctx.fillStyle = '#f9fafb';
                ctx.fillRect(20, 530, canvas.width - 20, 145);
                
                // Divider
                ctx.strokeStyle = '#e5e7eb';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(60, 530);
                ctx.lineTo(1140, 530);
                ctx.stroke();
                
                // Certificate text
                ctx.fillStyle = '#9ca3af';
                ctx.font = 'italic 18px Arial, sans-serif';
                ctx.fillText('This certificate validates completion of a comprehensive product management', 600, 570);
                ctx.fillText('assessment testing strategic thinking, prioritization, and decision-making skills.', 600, 595);
                
                // Curator info
                ctx.fillStyle = '#1f2937';
                ctx.font = 'bold 22px Arial, sans-serif';
                ctx.fillText('Curated by Mohan Simham', 600, 635);
                
                ctx.fillStyle = '#2563eb';
                ctx.font = 'bold 20px Arial, sans-serif';
                ctx.fillText('linkedin.com/in/mohansimham', 600, 660);
                
                // Decorative corner elements
                ctx.strokeStyle = '#3b82f6';
                ctx.lineWidth = 3;
                
                // Top right corner
                ctx.beginPath();
                ctx.moveTo(1140, 140);
                ctx.lineTo(1180, 140);
                ctx.lineTo(1180, 180);
                ctx.stroke();
                
                // Bottom left corner
                ctx.beginPath();
                ctx.moveTo(60, 510);
                ctx.lineTo(20, 510);
                ctx.lineTo(20, 550);
                ctx.stroke();
                
                // Download
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    const timestamp = new Date().toISOString().split('T')[0];
                    a.download = `PM-Simulation-Certificate-${score.percentage}pct-${timestamp}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    // Show success message
                    const successMsg = document.createElement('div');
                    successMsg.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 16px 24px; border-radius: 8px; font-weight: 600; z-index: 10000; box-shadow: 0 4px 6px rgba(0,0,0,0.1); animation: slideIn 0.3s ease;';
                    successMsg.innerHTML = '✅ Certificate downloaded!<br><span style="font-size: 14px; font-weight: normal;">Ready to share on LinkedIn</span>';
                    document.body.appendChild(successMsg);
                    
                    setTimeout(() => {
                        successMsg.style.animation = 'slideOut 0.3s ease';
                        setTimeout(() => {
                            if (successMsg.parentElement) {
                                document.body.removeChild(successMsg);
                            }
                        }, 300);
                    }, 3000);
                });
            };

            if (hasAttempted && !hasStarted) {
                return h('div', { className: 'min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-6' },
                    h('div', { className: 'max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center' },
                        h('div', { className: 'w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4' },
                            h(TrophyIcon)
                        ),
                        h('h2', { className: 'text-2xl font-bold text-gray-900 mb-4' }, 'Already Completed!'),
                        h('p', { className: 'text-gray-600 mb-6' }, "You've already taken this simulation. Each learner gets one attempt to ensure thoughtful decision-making and fair competition."),
                        h('p', { className: 'text-sm text-gray-500' }, 'Want more PM simulations? Follow the course for upcoming modules!')
                    )
                );
            }

            if (!hasStarted) {
                return h('div', { className: 'min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-6' },
                    h('div', { className: 'max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden' },
                        h('div', { className: 'bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white' },
                            h('p', { className: 'text-sm font-semibold text-blue-100 mb-3 tracking-wide uppercase' }, '✨ Test Your Product Management Superpower'),
                            h('p', { className: 'text-xs text-blue-100 mb-4' }, 'Inspired by real product management business cases'),
                            h('div', { className: 'flex items-center gap-3 mb-4' },
                                h('div', { className: 'w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center' },
                                    h(TrendingUpIcon)
                                ),
                                h('div', null,
                                    h('div', { className: 'text-sm text-blue-100 mb-1' }, 'Simulation 1/20 • ' + simulation.year),
                                    h('h1', { className: 'text-2xl font-bold' }, simulation.title),
                                    h('p', { className: 'text-blue-100' }, simulation.company + ' Case Study')
                                )
                            ),
                            h('p', { className: 'text-xs text-blue-100' }, 
                                'Curated by Mohan Simham • ',
                                h('a', { 
                                    href: 'https://linkedin.com/in/mohansimham', 
                                    target: '_blank',
                                    className: 'underline hover:text-white transition-colors'
                                }, 'LinkedIn: /mohansimham')
                            )
                        ),
                        h('div', { className: 'p-8' },
                            h('p', { className: 'text-lg text-gray-700 mb-6' }, simulation.description),
                            
                            h('div', { className: 'bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-6 mb-6' },
                                h('div', { className: 'flex items-start gap-4' },
                                    h('div', { className: 'flex-shrink-0' },
                                        h('div', { className: 'w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center' },
                                            h(TrophyIcon, { className: 'w-8 h-8 text-white' })
                                        )
                                    ),
                                    h('div', { className: 'flex-1' },
                                        h('h3', { className: 'text-lg font-bold text-gray-900 mb-2' }, '🎯 Earn Your Achievement Badge'),
                                        h('p', { className: 'text-sm text-gray-600 mb-3' }, 'Complete this simulation and share your personalized achievement badge on LinkedIn. Stand out as a certified PM professional!'),
                                        h('div', { className: 'bg-white rounded-lg p-4 border border-purple-200 shadow-sm' },
                                            h('div', { className: 'flex items-center gap-3 mb-2' },
                                                h('div', { className: 'w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded flex items-center justify-center flex-shrink-0' },
                                                    h('span', { className: 'text-white font-bold text-sm' }, '1/20')
                                                ),
                                                h('div', null,
                                                    h('div', { className: 'text-xs font-semibold text-blue-600' }, 'ACHIEVED'),
                                                    h('div', { className: 'text-sm font-bold text-gray-900' }, 'PM Fundamentals Master')
                                                )
                                            ),
                                            h('div', { className: 'text-xs text-gray-500 border-t border-gray-100 pt-2' }, 
                                                'Score: 92% • Strategic Mastery',
                                                h('div', { className: 'text-blue-600 font-medium mt-1' }, 'Curated by Mohan Simham')
                                            )
                                        ),
                                        h('p', { className: 'text-xs text-gray-500 mt-2 italic' }, '👆 Preview of what you\'ll share on LinkedIn')
                                    )
                                )
                            ),

                            h('div', { className: 'bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl p-5 mb-6' },
                                h('div', { className: 'flex items-center gap-3 mb-3' },
                                    h('div', { className: 'w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0' },
                                        h('svg', { className: 'w-7 h-7 text-white', viewBox: '0 0 24 24', fill: 'currentColor' },
                                            h('path', { d: 'M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z' })
                                        )
                                    ),
                                    h('div', { className: 'flex-1' },
                                        h('h3', { className: 'text-base font-bold text-gray-900' }, '👨‍💼 Follow Mohan Simham on LinkedIn'),
                                        h('p', { className: 'text-sm text-gray-600' }, 'Get access to 20 PM simulations, case studies, and career insights')
                                    )
                                ),
                                h('a', {
                                    href: 'https://linkedin.com/in/mohansimham',
                                    target: '_blank',
                                    className: 'block w-full bg-blue-600 hover:bg-blue-700 text-white text-center py-2.5 rounded-lg font-semibold transition-all text-sm'
                                }, '→ Connect on LinkedIn: /mohansimham')
                            ),
                            
                            h('div', { className: 'bg-amber-50 border-l-4 border-amber-500 p-4 mb-6' },
                                h('p', { className: 'text-sm text-amber-800' },
                                    h('strong', null, '⚡ Learning Focus: '),
                                    'PM vs Project Manager, stakeholder management, prioritization frameworks, data-driven decisions, and defining success metrics.'
                                )
                            ),
                            h('div', { className: 'grid grid-cols-3 gap-4 mb-8' },
                                h('div', { className: 'text-center p-4 bg-gray-50 rounded-lg' },
                                    h(UsersIcon, { className: 'w-6 h-6 text-indigo-600 mx-auto mb-2' }),
                                    h('div', { className: 'text-sm text-gray-600' }, 'Questions'),
                                    h('div', { className: 'text-xl font-bold text-gray-900' }, simulation.questions.length)
                                ),
                                h('div', { className: 'text-center p-4 bg-gray-50 rounded-lg' },
                                    h(TrophyIcon, { className: 'w-6 h-6 text-indigo-600 mx-auto mb-2' }),
                                    h('div', { className: 'text-sm text-gray-600' }, 'One Attempt'),
                                    h('div', { className: 'text-xl font-bold text-gray-900' }, 'Only')
                                ),
                                h('div', { className: 'text-center p-4 bg-gray-50 rounded-lg' },
                                    h(Share2Icon, { className: 'w-6 h-6 text-indigo-600 mx-auto mb-2' }),
                                    h('div', { className: 'text-sm text-gray-600' }, 'Shareable'),
                                    h('div', { className: 'text-xl font-bold text-gray-900' }, 'Results')
                                )
                            ),
                            h('form', { onSubmit: handleEmailSubmit, className: 'space-y-4' },
                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Your Email (Required for Certificate & Results)'),
                                    h('div', { className: 'relative' },
                                        h(MailIcon, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400' }),
                                        h('input', {
                                            type: 'email',
                                            value: email,
                                            onChange: (e) => setEmail(e.target.value),
                                            placeholder: 'your.email@company.com',
                                            required: true,
                                            className: 'w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent'
                                        })
                                    )
                                ),
                                h('button', {
                                    type: 'submit',
                                    className: 'w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg font-semibold hover:from-purple-500 hover:to-pink-500 transition-all shadow-lg hover:shadow-xl'
                                }, 'Start Simulation 1 →'),
                                h('p', { className: 'text-xs text-gray-500 text-center' }, "Your email is used only for results delivery and course notifications. No spam.")
                            )
                        )
                    )
                );
            }

            if (showResults) {
                const score = calculateScore();
                const narrative = getNarrative(score.percentage);

                return h('div', { className: 'min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6' },
                    h('div', { className: 'max-w-4xl mx-auto' },
                        h('div', { className: 'bg-white rounded-2xl shadow-xl overflow-hidden mb-6' },
                            h('div', { className: 'bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white text-center' },
                                h(TrophyIcon, { className: 'w-16 h-16 mx-auto mb-4' }),
                                h('div', { className: 'text-sm text-blue-100 mb-2' }, 'Simulation 1/20 Complete'),
                                h('h2', { className: 'text-3xl font-bold mb-2' }, narrative.tier),
                                h('div', { className: 'text-5xl font-bold mb-2' }, `${score.percentage}%`),
                                h('div', { className: 'text-blue-100' }, `Score: ${score.totalPoints} / ${score.maxPoints} points`)
                            ),
                            h('div', { className: 'p-8' },
                                h('h3', { className: 'text-xl font-bold text-gray-900 mb-3' }, narrative.title),
                                h('p', { className: 'text-gray-700 mb-6 leading-relaxed' }, narrative.text),
                                
                                h('div', { className: 'space-y-3' },
                                    h('button', {
                                        onClick: shareToLinkedIn,
                                        className: 'w-full bg-[#0A66C2] text-white py-4 rounded-lg font-semibold hover:bg-[#004182] transition-all flex items-center justify-center gap-2 shadow-lg'
                                    },
                                        h(Share2Icon),
                                        'Share Achievement on LinkedIn'
                                    ),
                                    h('button', {
                                        onClick: downloadBadge,
                                        className: 'w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 rounded-lg font-semibold hover:from-purple-500 hover:to-pink-500 transition-all flex items-center justify-center gap-2 shadow-lg'
                                    },
                                        h('svg', { className: 'w-5 h-5', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                                            h('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4' })
                                        ),
                                        'Download Achievement Badge Image'
                                    ),
                                    h('p', { className: 'text-center text-sm text-gray-500 mt-2' }, '💡 Pro tip: Download the badge image to add to your LinkedIn post for extra impact!')
                                )
                            )
                        ),
                        h('div', { className: 'bg-white rounded-2xl shadow-xl p-8' },
                            h('h3', { className: 'text-2xl font-bold text-gray-900 mb-6' }, 'Detailed Answer Analysis'),
                            simulation.questions.map((q, idx) => {
                                const userAnswer = answers[idx];
                                const correctAnswer = q.options.reduce((max, opt) => opt.points > max.points ? opt : max, q.options[0]);
                                const selectedOption = q.options.find(opt => opt.feedback === userAnswer.feedback);
                                const isCorrect = selectedOption.points === correctAnswer.points;
                                
                                return h('div', { key: q.id, className: 'mb-8 pb-8 border-b-2 border-gray-200 last:border-0' },
                                    // Question number and score
                                    h('div', { className: 'flex items-start justify-between mb-4' },
                                        h('div', { className: 'flex items-center gap-3' },
                                            h('div', { className: 'w-10 h-10 bg-blue-600 text-white rounded-lg flex items-center justify-center flex-shrink-0 font-bold text-lg' }, 
                                                idx + 1
                                            ),
                                            h('div', null,
                                                h('div', { className: 'text-sm text-gray-500' }, 'Question ' + (idx + 1) + ' of ' + simulation.questions.length),
                                                h('div', { className: 'flex items-center gap-2 mt-1' },
                                                    h('span', { className: 'text-lg font-bold text-gray-900' }, userAnswer.points + ' / ' + correctAnswer.points + ' points'),
                                                    isCorrect 
                                                        ? h('span', { className: 'text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-semibold' }, '✓ Optimal Choice')
                                                        : h('span', { className: 'text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-semibold' }, 'Room for Improvement')
                                                )
                                            )
                                        )
                                    ),
                                    
                                    // Scenario
                                    h('div', { className: 'bg-slate-50 border-l-4 border-slate-300 p-4 mb-4 rounded-r' },
                                        h('div', { className: 'text-xs font-semibold text-slate-600 uppercase tracking-wide mb-2' }, 'Scenario'),
                                        h('p', { className: 'text-sm text-slate-700 leading-relaxed' }, q.scenario)
                                    ),
                                    
                                    // Question
                                    h('div', { className: 'mb-4' },
                                        h('p', { className: 'font-semibold text-gray-900 text-base mb-3' }, q.question)
                                    ),
                                    
                                    // Your Answer
                                    h('div', { className: isCorrect ? 'bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-3' : 'bg-red-50 border-2 border-red-200 rounded-lg p-4 mb-3' },
                                        h('div', { className: 'flex items-start gap-3' },
                                            h('div', { className: isCorrect ? 'text-2xl' : 'text-2xl' }, isCorrect ? '✓' : '✗'),
                                            h('div', { className: 'flex-1' },
                                                h('div', { className: isCorrect ? 'text-xs font-bold text-green-700 uppercase tracking-wide mb-2' : 'text-xs font-bold text-red-700 uppercase tracking-wide mb-2' }, 
                                                    'Your Answer'
                                                ),
                                                h('p', { className: 'text-sm text-gray-800 font-medium mb-2' }, selectedOption.text),
                                                h('p', { className: isCorrect ? 'text-xs text-green-700 font-medium' : 'text-xs text-red-700 font-medium' }, 
                                                    userAnswer.points + ' points earned'
                                                )
                                            )
                                        )
                                    ),
                                    
                                    // Correct Answer (only show if user didn't select it)
                                    !isCorrect && h('div', { className: 'bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-4' },
                                        h('div', { className: 'flex items-start gap-3' },
                                            h('div', { className: 'text-2xl' }, '★'),
                                            h('div', { className: 'flex-1' },
                                                h('div', { className: 'text-xs font-bold text-green-700 uppercase tracking-wide mb-2' }, 
                                                    'Optimal Answer'
                                                ),
                                                h('p', { className: 'text-sm text-gray-800 font-medium mb-2' }, correctAnswer.text),
                                                h('p', { className: 'text-xs text-green-700 font-medium' }, 
                                                    correctAnswer.points + ' points (maximum)'
                                                )
                                            )
                                        )
                                    ),
                                    
                                    // Explanation and Learning
                                    h('div', { className: 'bg-blue-50 border-l-4 border-blue-600 p-4 rounded-r' },
                                        h('div', { className: 'text-xs font-bold text-blue-900 uppercase tracking-wide mb-2' }, 
                                            '📚 Expert Analysis & Learning'
                                        ),
                                        h('p', { className: 'text-sm text-gray-700 leading-relaxed mb-3' }, userAnswer.feedback),
                                        !isCorrect && h('div', { className: 'mt-3 pt-3 border-t border-blue-200' },
                                            h('p', { className: 'text-xs font-semibold text-blue-800 mb-2' }, 'Why the optimal answer is better:'),
                                            h('p', { className: 'text-sm text-gray-700 leading-relaxed' }, correctAnswer.feedback)
                                        )
                                    )
                                );
                            })
                        ),
                        h('div', { className: 'text-center mt-8' },
                            h('p', { className: 'text-gray-600 mb-2' }, 'Ready for Simulation 2/20? Continue the PM course to master product discovery & validation!'),
                            h('p', { className: 'text-sm text-gray-500 mb-1' }, '© 2025 Mohan Simham. All Rights Reserved.'),
                            h('p', { className: 'text-xs text-gray-400' }, 
                                'Curated by Mohan Simham • ',
                                h('a', { 
                                    href: 'https://linkedin.com/in/mohansimham', 
                                    target: '_blank',
                                    className: 'text-blue-400 hover:text-blue-500 underline'
                                }, 'LinkedIn: /mohansimham')
                            )
                        )
                    )
                );
            }

            const currentQ = simulation.questions[currentQuestion];

            return h('div', { className: 'min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6' },
                h('div', { className: 'max-w-3xl mx-auto' },
                    h('div', { className: 'mb-8' },
                        h('div', { className: 'flex justify-between text-sm text-gray-600 mb-2' },
                            h('span', null, `Question ${currentQuestion + 1} of ${simulation.questions.length}`),
                            h('span', null, `${Math.round(((currentQuestion) / simulation.questions.length) * 100)}% Complete`)
                        ),
                        h('div', { className: 'w-full bg-gray-200 rounded-full h-2' },
                            h('div', {
                                className: 'bg-gradient-to-r from-indigo-600 to-blue-600 h-2 rounded-full transition-all duration-500',
                                style: { width: `${((currentQuestion) / simulation.questions.length) * 100}%` }
                            })
                        )
                    ),
                    h('div', { className: 'bg-white rounded-2xl shadow-xl overflow-hidden' },
                        h('div', { className: 'bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-b border-gray-200' },
                            h('div', { className: 'flex items-start gap-3' },
                                h('div', { className: 'w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center flex-shrink-0' },
                                    h('span', { className: 'text-white font-bold' }, currentQuestion + 1)
                                ),
                                h('div', null,
                                    h('h3', { className: 'font-semibold text-gray-900 mb-2' }, 'Scenario'),
                                    h('p', { className: 'text-gray-700 leading-relaxed' }, currentQ.scenario)
                                )
                            )
                        ),
                        h('div', { className: 'p-6' },
                            h('h4', { className: 'font-bold text-lg text-gray-900 mb-4' }, currentQ.question),
                            h('div', { className: 'space-y-3 mb-6' },
                                currentQ.options.map((option, idx) => {
                                    const isSelected = selectedAnswerIndex === idx;
                                    const buttonClass = isSelected 
                                        ? 'w-full text-left p-4 border-2 rounded-lg transition-all border-blue-600 bg-blue-50' 
                                        : 'w-full text-left p-4 border-2 rounded-lg transition-all border-gray-200 hover:border-blue-500 hover:bg-blue-50';
                                    
                                    const radioClass = isSelected
                                        ? 'w-6 h-6 border-2 rounded-full flex items-center justify-center flex-shrink-0 transition-all border-blue-600 bg-blue-600'
                                        : 'w-6 h-6 border-2 rounded-full flex items-center justify-center flex-shrink-0 transition-all border-gray-400 bg-white';
                                    
                                    const textClass = isSelected 
                                        ? 'leading-relaxed text-gray-900 font-medium' 
                                        : 'leading-relaxed text-gray-700';
                                    
                                    return h('button', {
                                        key: idx,
                                        onClick: () => handleAnswer(idx),
                                        className: buttonClass
                                    },
                                        h('div', { className: 'flex items-start gap-3' },
                                            h('div', { className: radioClass },
                                                isSelected ? h('div', { className: 'w-2.5 h-2.5 bg-white rounded-full' }) : null
                                            ),
                                            h('p', { className: textClass }, option.text)
                                        )
                                    );
                                })
                            ),
                            h('button', {
                                onClick: handleNextChallenge,
                                disabled: selectedAnswerIndex === null,
                                className: selectedAnswerIndex !== null
                                    ? 'w-full py-4 px-6 rounded-lg font-bold text-lg transition-all bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl cursor-pointer'
                                    : 'w-full py-4 px-6 rounded-lg font-bold text-lg transition-all bg-gray-200 text-gray-400 cursor-not-allowed'
                            }, currentQuestion === simulation.questions.length - 1 ? 'Complete Assessment →' : 'Next Challenge →')
                        )
                    ),
                    h('div', { className: 'text-center mt-6 text-sm text-gray-500' }, '💡 Choose carefully - you only get one attempt at this module')
                )
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(PMSimulation));
    </script>
</body>
</html>
